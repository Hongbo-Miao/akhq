import{_ as t,r as o,o as i,c as r,b as n,a as s,d as e,e as l}from"./app.e64a207b.js";const c={},d=n("h1",{id:"debug-monitoring",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#debug-monitoring","aria-hidden":"true"},"#"),e(" Debug & Monitoring")],-1),p=n("h2",{id:"monitoring-endpoint",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#monitoring-endpoint","aria-hidden":"true"},"#"),e(" Monitoring endpoint")],-1),u=n("p",null,[e("Several monitoring endpoint is enabled by default and available on port "),n("code",null,"28081"),e(" only.")],-1),h=n("p",null,"You can disable it, change the port or restrict access only for authenticated users following micronaut configuration below.",-1),g=n("code",null,"/info",-1),_=e(),m={href:"https://docs.micronaut.io/snapshot/guide/index.html#infoEndpoint",target:"_blank",rel:"noopener noreferrer"},b=e("Info Endpoint"),v=e(" with git status information."),f=n("code",null,"/health",-1),k=e(),q={href:"https://docs.micronaut.io/snapshot/guide/index.html#healthEndpoint",target:"_blank",rel:"noopener noreferrer"},x=e("Health Endpoint"),E=n("code",null,"/loggers",-1),T=e(),y={href:"https://docs.micronaut.io/snapshot/guide/index.html#loggersEndpoint",target:"_blank",rel:"noopener noreferrer"},C=e("Loggers Endpoint"),H=n("code",null,"/metrics",-1),L=e(),A={href:"https://docs.micronaut.io/snapshot/guide/index.html#metricsEndpoint",target:"_blank",rel:"noopener noreferrer"},S=e("Metrics Endpoint"),j=n("code",null,"/prometheus",-1),w=e(),D={href:"https://micronaut-projects.github.io/micronaut-micrometer/latest/guide/",target:"_blank",rel:"noopener noreferrer"},M=e("Prometheus Endpoint"),N=l(`<h2 id="debugging-akhq-performance-issues" tabindex="-1"><a class="header-anchor" href="#debugging-akhq-performance-issues" aria-hidden="true">#</a> Debugging AKHQ performance issues</h2><p>You can debug all query duration from AKHQ with this commands</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span>
       <span class="token parameter variable">-d</span> <span class="token string">&#39;{ &quot;configuredLevel&quot;: &quot;TRACE&quot; }&#39;</span> <span class="token punctuation">\\</span>
       http://localhost:28081/loggers/org.akhq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="debugging-authentication" tabindex="-1"><a class="header-anchor" href="#debugging-authentication" aria-hidden="true">#</a> Debugging authentication</h2><p>Debugging auth can be done by increasing log level on Micronaut that handle most of the authentication part :</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span>
       <span class="token parameter variable">-d</span> <span class="token string">&#39;{ &quot;configuredLevel&quot;: &quot;TRACE&quot; }&#39;</span> <span class="token punctuation">\\</span>
       http://localhost:28081/loggers/io.micronaut.security


<span class="token function">curl</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span>
       <span class="token parameter variable">-d</span> <span class="token string">&#39;{ &quot;configuredLevel&quot;: &quot;TRACE&quot; }&#39;</span> <span class="token punctuation">\\</span>
       http://localhost:28081/loggers/org.akhq.configs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function P(V,B){const a=o("ExternalLinkIcon");return i(),r("div",null,[d,p,u,h,n("ul",null,[n("li",null,[g,_,n("a",m,[b,s(a)]),v]),n("li",null,[f,k,n("a",q,[x,s(a)])]),n("li",null,[E,T,n("a",y,[C,s(a)])]),n("li",null,[H,L,n("a",A,[S,s(a)])]),n("li",null,[j,w,n("a",D,[M,s(a)])])]),N])}const O=t(c,[["render",P],["__file","debug.html.vue"]]);export{O as default};
